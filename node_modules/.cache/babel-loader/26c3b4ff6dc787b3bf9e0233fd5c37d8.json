{"ast":null,"code":"import _objectSpread from\"/Users/horikazuto/ChooseOne/LatestChooseOne/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/horikazuto/ChooseOne/LatestChooseOne/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/horikazuto/ChooseOne/LatestChooseOne/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/horikazuto/ChooseOne/LatestChooseOne/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useEffect,useState}from'react';import ReactDOM from'react-dom';import'./index.css';import App from'./App';import reportWebVitals from'./reportWebVitals';import{BrowserRouter as Router,Switch,Route}from\"react-router-dom\";import{makeStyles,createStyles}from'@material-ui/core';import useMediaQuery from'@material-ui/core/useMediaQuery';import ThumbUpAltIcon from'@material-ui/icons/ThumbUpAlt';import{IoIosAddCircle}from\"react-icons/io\";import{AiOutlinePlus}from\"react-icons/ai\";import FavoriteIcon from'@material-ui/icons/Favorite';import BuildIcon from'@material-ui/icons/Build';import{Fab,Action}from'react-tiny-fab';import Header from'./components/Header';import SmallHeader from'./components/SmallHeader';import Footer from'./components/Footer';import QuestionDetail from'./screens/QuestionDetail';import'./App.scss';// Firebase\nimport{getApps,initializeApp}from'firebase/app';import{getFirestore,collection,addDoc,setDoc,doc}from\"firebase/firestore\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var firebaseConfig={apiKey:\"AIzaSyArjDv3hS4_rw1YyNz-JFXDX1ufF72bqr8\",authDomain:\"chooseone-105a9.firebaseapp.com\",databaseURL:\"https://chooseone-default-rtdb.firebaseio.com\",projectId:\"chooseone\",storageBucket:\"chooseone.appspot.com\",messagingSenderId:\"722704825746\",appId:\"1:722704825746:web:73f11551b9e59f4bc2d54b\",measurementId:\"G-YJ97DZH6V5\"};var db='';if(!getApps().length){var firebaseApp=initializeApp(firebaseConfig);db=getFirestore(firebaseApp);}else{db=getFirestore();}export default function Routing(){var uid=localStorage.getItem('chooseoneUid');var styles=useStyles();var smallDisplay=useMediaQuery('(max-width:500px)');var _useState=useState(true),_useState2=_slicedToArray(_useState,2),firstTime=_useState2[0],setFirstTime=_useState2[1];var makeNewUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var current,at,promise;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:current=new Date();current=current.toJSON();at=current.slice(0,10)+' '+current.slice(11,19);promise=new Promise(function(resolve){var ref=addDoc(collection(db,'users'),{email:'',created_at:at,question_voted:[],question_created:[],question_liked:[],username:''});resolve(ref);});promise.then(function(ref){localStorage.setItem('chooseoneUid',ref.id);setDoc(doc(db,'users',ref.id),{uid:ref.id},{merge:true});// 追加した 2021/10/05\n}).then(function(){setFirstTime(false);});case 5:case\"end\":return _context.stop();}}},_callee);}));return function makeNewUser(){return _ref.apply(this,arguments);};}();useEffect(function(){if(uid||!firstTime)return null;makeNewUser();});return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"title\",{children:\"ChooseOne\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"description\",content:\"ChooseOne lets you have access to general understandings through user-interactive questions. The more you vote, the more you can influence the results, and it can be helpful to all the people who want to know the results.\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"stylesheet\",href:\"https://use.typekit.net/wjg1qds.css\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"google-site-verification\",content:\"ZLvGG7OEMwGguqr5Nome2wbtPSHJZU16uVVaw5QkEGc\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"shortcut icon\",href:\"%PUBLIC_URL%/logo48.png\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"theme-color\",content:\"#000000\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"apple-touch-icon\",href:\"%PUBLIC_URL%/logo192.png\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"manifest\",href:\"%PUBLIC_URL%/manifest.json\"})]}),/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:styles.background,children:[smallDisplay?/*#__PURE__*/_jsx(SmallHeader,{}):/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:styles.wrapper,style:{paddingTop:smallDisplay&&40},children:[/*#__PURE__*/_jsx(\"div\",{className:!smallDisplay?'container':'',children:/*#__PURE__*/_jsx(\"div\",{className:styles.container,children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/q/:the_slug\",render:function render(props){return/*#__PURE__*/_jsx(QuestionDetail,_objectSpread({},props));}}),/*#__PURE__*/_jsx(Route,{path:\"/\",render:function render(){return/*#__PURE__*/_jsx(App,{});}})]})})}),smallDisplay&&/*#__PURE__*/_jsxs(Fab,{mainButtonStyles:{backgroundColor:'rgb(40, 168, 69)',outline:'none'},actionButtonStyles:{width:30,height:30},style:{position:'fixed',bottom:20},icon:/*#__PURE__*/_jsx(AiOutlinePlus,{}),event:'click',children:[/*#__PURE__*/_jsx(Action,{text:\"Add\",style:{backgroundColor:'rgb(255, 192, 8)',outline:'none'},onClick:function onClick(){return window.location.href='/create';},children:/*#__PURE__*/_jsx(IoIosAddCircle,{})}),/*#__PURE__*/_jsx(Action,{text:\"Voted\",style:{backgroundColor:'rgb(40, 168, 69)',outline:'none'},onClick:function onClick(){return window.location.href='/voted';},children:/*#__PURE__*/_jsx(ThumbUpAltIcon,{})}),/*#__PURE__*/_jsx(Action,{text:\"Made\",style:{backgroundColor:'rgb(3, 122, 255)',outline:'none'},onClick:function onClick(){return window.location.href='/made';},children:/*#__PURE__*/_jsx(BuildIcon,{})}),/*#__PURE__*/_jsx(Action,{text:\"Liked\",style:{backgroundColor:'red',outline:'none'},onClick:function onClick(){return window.location.href='/liked';},children:/*#__PURE__*/_jsx(FavoriteIcon,{})})]}),!smallDisplay&&/*#__PURE__*/_jsx(Footer,{})]})]})})]});}var useStyles=makeStyles(function(){return createStyles({fabButton:{// backgroundColor: 'rgb(40, 168, 69)',\n},// fabButtonPos: {\n// },\nactionButton:{},bottomBar:{position:'fixed',bottom:0,width:'100%',backgroundColor:'#f1efef',height:50,filter:'drop-shadow(0px 0px 2px rgba(160, 160, 160, 0.7))',paddingTop:5,zIndex:2},wrapper:{// minHeight: window.innerHeight-30,\nminHeight:'100vh',position:'relative',/*←相対位置*/paddingBottom:600,/*←footerの高さ*/boxSizing:'border-box'/*←全て含めてmin-height:100vhに*/},background:{backgroundColor:'#f1efef'},container:{paddingTop:15,paddingBottom:30},'@media (max-width: 500px)':{container:{paddingTop:2,paddingBottom:10},wrapper:{paddingBottom:175}}});});ReactDOM.render(/*#__PURE__*/_jsx(React.StrictMode,{children:/*#__PURE__*/_jsx(Routing,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();","map":{"version":3,"sources":["/Users/horikazuto/ChooseOne/LatestChooseOne/src/index.js"],"names":["React","Fragment","useEffect","useState","ReactDOM","App","reportWebVitals","BrowserRouter","Router","Switch","Route","makeStyles","createStyles","useMediaQuery","ThumbUpAltIcon","IoIosAddCircle","AiOutlinePlus","FavoriteIcon","BuildIcon","Fab","Action","Header","SmallHeader","Footer","QuestionDetail","getApps","initializeApp","getFirestore","collection","addDoc","setDoc","doc","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","db","length","firebaseApp","Routing","uid","localStorage","getItem","styles","useStyles","smallDisplay","firstTime","setFirstTime","makeNewUser","current","Date","toJSON","at","slice","promise","Promise","resolve","ref","email","created_at","question_voted","question_created","question_liked","username","then","setItem","id","merge","background","wrapper","paddingTop","container","props","backgroundColor","outline","width","height","position","bottom","window","location","href","fabButton","actionButton","bottomBar","filter","zIndex","minHeight","paddingBottom","boxSizing","render","document","getElementById"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router, Switch, Route} from \"react-router-dom\";\nimport { makeStyles, createStyles } from '@material-ui/core';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\nimport { IoIosAddCircle } from \"react-icons/io\";\nimport { AiOutlinePlus } from \"react-icons/ai\";\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport BuildIcon from '@material-ui/icons/Build';\nimport { Fab, Action } from 'react-tiny-fab';\n\nimport Header from './components/Header';\nimport SmallHeader from './components/SmallHeader';\nimport Footer from './components/Footer';\nimport QuestionDetail from './screens/QuestionDetail';\nimport './App.scss';\n\n// Firebase\nimport { getApps, initializeApp } from 'firebase/app';\nimport { getFirestore, collection, addDoc, setDoc, doc } from \"firebase/firestore\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyArjDv3hS4_rw1YyNz-JFXDX1ufF72bqr8\",\n  authDomain: \"chooseone-105a9.firebaseapp.com\",\n  databaseURL: \"https://chooseone-default-rtdb.firebaseio.com\",\n  projectId: \"chooseone\",\n  storageBucket: \"chooseone.appspot.com\",\n  messagingSenderId: \"722704825746\",\n  appId: \"1:722704825746:web:73f11551b9e59f4bc2d54b\",\n  measurementId: \"G-YJ97DZH6V5\"\n};\nvar db = '';\nif (!getApps().length){ \n  const firebaseApp = initializeApp(firebaseConfig);\n  db = getFirestore(firebaseApp);\n}else{\n  db = getFirestore();\n}\n\nexport default function Routing () {\n\n  const uid = localStorage.getItem('chooseoneUid');\n  const styles = useStyles();\n  const smallDisplay = useMediaQuery('(max-width:500px)');\n\n  const [firstTime, setFirstTime] = useState(true);\n\n  const makeNewUser = async () => {\n    let current=new Date();\n    current=current.toJSON();\n    var at = current.slice(0, 10)+ ' ' + current.slice(11, 19);\n\n    const promise = new Promise(function(resolve) {\n      const ref = addDoc(collection(db, 'users'), {\n        email: '',\n        created_at: at,\n        question_voted: [],\n        question_created: [],\n        question_liked: [],\n        username: '',        \n      });\n      resolve(ref);\n    });\n    promise.then((ref) => {\n      localStorage.setItem('chooseoneUid', ref.id);\n      setDoc(doc(db, 'users', ref.id), { uid: ref.id }, { merge: true });  // 追加した 2021/10/05\n    }).then(() => {\n      setFirstTime(false);\n    })\n  }\n\n  useEffect(() => {\n    if(uid || !firstTime) return null;\n    makeNewUser();\n  });\n    \n  return (\n    <Fragment>\n      <div>\n        <title>ChooseOne</title>\n        <meta name=\"description\" content=\"ChooseOne lets you have access to general understandings through user-interactive questions. The more you vote, the more you can influence the results, and it can be helpful to all the people who want to know the results.\" />\n        {/* <link rel=\"stylesheet\" zhref=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossOrigin=\"anonymous\" /> */}\n        <link rel=\"stylesheet\" href=\"https://use.typekit.net/wjg1qds.css\" />\n        <meta name=\"google-site-verification\" content=\"ZLvGG7OEMwGguqr5Nome2wbtPSHJZU16uVVaw5QkEGc\" />\n        <link rel=\"shortcut icon\" href=\"%PUBLIC_URL%/logo48.png\" />\n        <meta name=\"theme-color\" content=\"#000000\" />\n        <link rel=\"apple-touch-icon\" href=\"%PUBLIC_URL%/logo192.png\" />\n        <link rel=\"manifest\" href=\"%PUBLIC_URL%/manifest.json\" />\n      </div>\n      <Router>\n        <div className={styles.background}>\n          {smallDisplay \n            ?\n            <SmallHeader />\n            :\n            <Header />\n          }\n          \n          <div className={styles.wrapper} style={{ paddingTop: smallDisplay && 40 }}>\n            <div className={!smallDisplay ? 'container' : ''}>\n              <div className={styles.container}>\n                <Switch>\n                  <Route path=\"/q/:the_slug\" render={ (props) => <QuestionDetail {...props} /> } />\n                  <Route path=\"/\" render={ () => <App /> } />\n                </Switch>\n              </div>\n            </div>\n\n            {smallDisplay && (\n              <Fab\n                mainButtonStyles={{ backgroundColor: 'rgb(40, 168, 69)', outline: 'none',  }}\n                actionButtonStyles={{ width: 30, height: 30 }}\n                style={{ position: 'fixed', bottom: 20,  }}\n                icon={<AiOutlinePlus />}\n                event={'click'}\n              >\n                <Action\n                  text=\"Add\"\n                  style={{backgroundColor: 'rgb(255, 192, 8)', outline: 'none' }} \n                  onClick={() => window.location.href = '/create'}\n                >\n                  <IoIosAddCircle />\n                </Action>\n                <Action\n                  text=\"Voted\"\n                  style={{backgroundColor: 'rgb(40, 168, 69)', outline: 'none' }} \n                  onClick={() => window.location.href = '/voted'}\n                >\n                  <ThumbUpAltIcon />\n                </Action>\n                <Action\n                  text=\"Made\"\n                  style={{backgroundColor: 'rgb(3, 122, 255)', outline: 'none' }} \n                  onClick={() => window.location.href = '/made'}\n                >\n                  <BuildIcon />\n                </Action>\n                <Action\n                  text=\"Liked\"\n                  style={{backgroundColor: 'red', outline: 'none' }} \n                  onClick={() => window.location.href = '/liked'}\n                >\n                  <FavoriteIcon />\n                </Action>\n              </Fab>\n            )}\n            {!smallDisplay && <Footer/>}\n          </div>\n        </div>\n      </Router>\n    </Fragment>\n  );\n}\n\nconst useStyles = makeStyles(() => createStyles({\n  fabButton: {\n    // backgroundColor: 'rgb(40, 168, 69)',\n  },\n  // fabButtonPos: {\n\n  // },\n  actionButton: {\n\n  },\n  bottomBar: {\n    position: 'fixed',\n    bottom: 0,\n    width: '100%',\n    backgroundColor: '#f1efef',\n    height: 50,\n    filter: 'drop-shadow(0px 0px 2px rgba(160, 160, 160, 0.7))',\n    paddingTop: 5,\n    zIndex: 2,\n  },\n  wrapper: {\n    // minHeight: window.innerHeight-30,\n    minHeight: '100vh',\n    position: 'relative',/*←相対位置*/\n    paddingBottom: 600,/*←footerの高さ*/\n    boxSizing: 'border-box',/*←全て含めてmin-height:100vhに*/\n  },\n  background: {\n    backgroundColor: '#f1efef',\n  },\n  container: {\n    paddingTop: 15,\n    paddingBottom: 30,\n  },\n\n  '@media (max-width: 500px)': {\n    container: {\n      paddingTop: 2,\n      paddingBottom: 10,\n    },\n    wrapper: {\n      paddingBottom: 175,\n    }\n  }\n}));\n\nReactDOM.render(\n  <React.StrictMode>\n    {/* <RecoilRoot> */}\n    <Routing />\n    {/* </RecoilRoot> */}\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n\n\n\n"]},"metadata":{},"sourceType":"module"}