{"ast":null,"code":"import _slicedToArray from\"/Users/horikazuto/ChooseOne/LatestChooseOne/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,Fragment}from'react';import{timeToDay}from'../utils/Funcs.js';// Firebase\nimport{getApps,initializeApp}from'firebase/app';import{getFirestore,collection,query,where,getDocs,orderBy,limit}from\"firebase/firestore\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var firebaseConfig={apiKey:\"AIzaSyArjDv3hS4_rw1YyNz-JFXDX1ufF72bqr8\",authDomain:\"chooseone-105a9.firebaseapp.com\",databaseURL:\"https://chooseone-default-rtdb.firebaseio.com\",projectId:\"chooseone\",storageBucket:\"chooseone.appspot.com\",messagingSenderId:\"722704825746\",appId:\"1:722704825746:web:73f11551b9e59f4bc2d54b\",measurementId:\"G-YJ97DZH6V5\"};var db='';if(!getApps().length){var firebaseApp=initializeApp(firebaseConfig);db=getFirestore(firebaseApp);}else{db=getFirestore();}var categories=['Love','News','Sports','Pastime','Health','Living','Career','Academics','IT'];var tabColors=['#ff69b4'];for(var i=1;i<11;i++){tabColors.push('hsla('+i*100+', 75%, 55%, 1)');}export default function Home(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todaysRanking=_useState2[0],setTodaysRanking=_useState2[1];useEffect(function(){var current=new Date();current=current.toJSON();var today=timeToDay(current.slice(0,10));var q=query(collection(db,'questions'),where('created_on','==',today),orderBy('all_votes','desc'),limit(10));var promise=new Promise(function(resolve,reject){resolve(getDocs(q));});promise.then(function(qq){var ques=[];Promise.all(qq.docs.map(function(doc){ques.push(doc.data());return null;})).then(function(){setTodaysRanking(ques);});});},[todaysRanking]);return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{style:styles.left_side,children:[/*#__PURE__*/_jsx(\"h4\",{style:styles.semiTitle,className:\"cali\",children:\"Categories\"}),/*#__PURE__*/_jsx(\"ul\",{children:categories.map(function(cate,idx){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{className:\"cali2\",style:{color:tabColors[idx]},id:\"left{idx}\",href:'/category/'+cate,children:cate})});})}),/*#__PURE__*/_jsx(\"h4\",{style:styles.semiTitle,className:\"cali\",children:\"Today's Ranking\"}),todaysRanking.map(function(question,idx){return/*#__PURE__*/_jsxs(\"div\",{className:\"side_question\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title\",children:[idx===0&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:25},children:\"\\uD83E\\uDD47\"}),/*#__PURE__*/_jsx(\"a\",{className:\"link\",href:'/q/'+question.slug,children:/*#__PURE__*/_jsx(\"h6\",{style:{color:'rgb(223, 176, 0)'},children:/*#__PURE__*/_jsx(\"strong\",{children:question.title})})})]}),idx===1&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:25},children:\"\\uD83E\\uDD48\"}),/*#__PURE__*/_jsx(\"a\",{className:\"link\",href:'/q/'+question.slug,children:/*#__PURE__*/_jsx(\"h6\",{style:{color:'rgb(174, 179, 181)'},children:/*#__PURE__*/_jsx(\"strong\",{children:question.title})})})]}),idx===2&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:25},children:\"\\uD83E\\uDD49\"}),/*#__PURE__*/_jsx(\"a\",{className:\"link\",href:'/q/'+question.slug,children:/*#__PURE__*/_jsx(\"h6\",{style:{color:'rgba(184, 115, 51, 0.692)'},children:/*#__PURE__*/_jsx(\"strong\",{children:question.title})})})]}),idx!==0&&idx!==1&&idx!==2&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:styles.number,children:/*#__PURE__*/_jsx(\"p\",{children:idx+1})}),/*#__PURE__*/_jsx(\"a\",{className:\"link\",href:'/q/'+question.slug,children:/*#__PURE__*/_jsx(\"h6\",{children:question.title})})]})]}),/*#__PURE__*/_jsx(\"ul\",{children:question.choices.map(function(choice){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u25CB \",choice.choice_text]}),/*#__PURE__*/_jsx(\"br\",{})]});})})]});})]})});}var styles={left_side:{filter:'drop-shadow(0px 0px 5px rgba(160, 160, 160, 0.7))',width:200,marginRight:30,backgroundColor:'white',borderRadius:15,paddingTop:5,paddingBottom:15,height:'fit-content'},semiTitle:{paddingLeft:10},number:{width:16,height:16,borderRadius:8,backgroundColor:'rgb(2, 122, 255)',color:'white',fontSize:5,textAlign:'center',marginTop:7,marginRight:4,marginLeft:5}};","map":{"version":3,"sources":["/Users/horikazuto/ChooseOne/LatestChooseOne/src/components/LeftBar.js"],"names":["React","useState","useEffect","Fragment","timeToDay","getApps","initializeApp","getFirestore","collection","query","where","getDocs","orderBy","limit","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","db","length","firebaseApp","categories","tabColors","i","push","Home","props","todaysRanking","setTodaysRanking","current","Date","toJSON","today","slice","q","promise","Promise","resolve","reject","then","qq","ques","all","docs","map","doc","data","styles","left_side","semiTitle","cate","idx","color","question","fontSize","slug","title","number","choices","choice","choice_text","filter","width","marginRight","backgroundColor","borderRadius","paddingTop","paddingBottom","height","paddingLeft","textAlign","marginTop","marginLeft"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment } from 'react';\n\nimport { timeToDay } from '../utils/Funcs.js';\n\n// Firebase\nimport { getApps, initializeApp } from 'firebase/app';\nimport { getFirestore, collection, query, where, getDocs, orderBy, limit } from \"firebase/firestore\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyArjDv3hS4_rw1YyNz-JFXDX1ufF72bqr8\",\n  authDomain: \"chooseone-105a9.firebaseapp.com\",\n  databaseURL: \"https://chooseone-default-rtdb.firebaseio.com\",\n  projectId: \"chooseone\",\n  storageBucket: \"chooseone.appspot.com\",\n  messagingSenderId: \"722704825746\",\n  appId: \"1:722704825746:web:73f11551b9e59f4bc2d54b\",\n  measurementId: \"G-YJ97DZH6V5\"\n};\nvar db = '';\nif (!getApps().length){ \n  const firebaseApp = initializeApp(firebaseConfig);\n  db = getFirestore(firebaseApp);\n}else{\n  db = getFirestore();\n}\n\nvar categories = ['Love', 'News', 'Sports', 'Pastime', 'Health', 'Living', 'Career', 'Academics', 'IT'];\nvar tabColors = ['#ff69b4']\nfor(var i=1; i<11; i++) tabColors.push('hsla('+(i*100)+', 75%, 55%, 1)');\n\nexport default function Home (props) {\n\n  const [todaysRanking, setTodaysRanking] = useState([]);\n\n  useEffect(() => {\n    let current=new Date();\n    current=current.toJSON();\n    var today = timeToDay(current.slice(0, 10));\n\n    const q = query(collection(db, 'questions'), where('created_on', '==', today), orderBy('all_votes', 'desc'), limit(10));\n\n    const promise = new Promise(function(resolve, reject) {\n      resolve(getDocs(q));\n    });\n    promise.then((qq) => {\n      var ques = [];\n      Promise.all(qq.docs.map(doc => {\n        ques.push(doc.data());\n        return null;\n      })).then(() => {\n        setTodaysRanking(ques);\n      });\n    })\n  }, [todaysRanking]);\n  \n  return (\n    <Fragment>\n      <div style={styles.left_side}>\n        <h4 style={styles.semiTitle} className='cali'>Categories</h4>\n        <ul>\n          {categories.map((cate, idx) => (\n            <li><a className='cali2' style={{ color: tabColors[idx] }} id=\"left{idx}\" href={'/category/'+cate}>{cate}</a></li>\n          ))}\n        </ul>\n        <h4 style={styles.semiTitle} className='cali'>Today's Ranking</h4>\n        {todaysRanking.map((question, idx) => (\n          <div className=\"side_question\">\n            <div className=\"title\">\n              {idx === 0 && (\n                <Fragment>\n                  <p style={{ fontSize: 25 }}>🥇</p> \n                  <a className=\"link\" href={'/q/' + question.slug}><h6 style={{color: 'rgb(223, 176, 0)'}}><strong>{question.title}</strong></h6></a>\n                </Fragment>\n              )}\n              {idx === 1 && (\n                <Fragment>\n                  <p style={{ fontSize: 25 }}>🥈</p>\n                  <a className=\"link\" href={'/q/' + question.slug}><h6 style={{color: 'rgb(174, 179, 181)'}}><strong>{question.title}</strong></h6></a>\n                </Fragment>\n              )}\n              {idx === 2 && (\n                <Fragment>\n                  <p style={{ fontSize: 25 }}>🥉</p>\n                  <a className=\"link\" href={'/q/' + question.slug}><h6 style={{color: 'rgba(184, 115, 51, 0.692)'}}><strong>{question.title}</strong></h6></a>\n                </Fragment>\n              )}\n              {idx !== 0 && idx !== 1 && idx !== 2 && (\n                <Fragment>\n                  <div style={styles.number}><p>{idx+1}</p></div>\n                  <a className=\"link\" href={'/q/' + question.slug}><h6>{question.title}</h6></a>\n                </Fragment>\n              )}\n            </div>\n            <ul>\n              {question.choices.map(choice => (\n                <div>\n                  <label>○ {choice.choice_text}</label>\n                  <br />\n                </div>\n              ))}\n            </ul>\n          </div>\n        ))}\n      </div>\n\n    </Fragment>\n  )\n}\n\nconst styles = {\n  left_side: {\n    filter: 'drop-shadow(0px 0px 5px rgba(160, 160, 160, 0.7))',\n    width: 200,\n    marginRight: 30,\n    backgroundColor: 'white',\n    borderRadius: 15,\n    paddingTop: 5,\n    paddingBottom: 15,\n    height: 'fit-content',\n  },\n\n  semiTitle: {\n    paddingLeft: 10,\n  },\n  number: {\n    width: 16,\n    height: 16,\n    borderRadius: 8,\n    backgroundColor: 'rgb(2, 122, 255)',\n    color: 'white',\n    fontSize: 5,\n    textAlign: 'center',\n    marginTop: 7,\n    marginRight: 4,\n    marginLeft: 5,\n  }\n}"]},"metadata":{},"sourceType":"module"}