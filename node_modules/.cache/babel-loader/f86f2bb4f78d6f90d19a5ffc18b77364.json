{"ast":null,"code":"import _slicedToArray from\"/Users/horikazuto/ChooseOne/LatestChooseOne/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,Fragment}from'react';import axios from\"axios\";// Firebase\nimport{getApps,initializeApp}from'firebase/app';import{getFirestore,collection,query,orderBy,limit,getDocs}from\"firebase/firestore\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var firebaseConfig={apiKey:\"AIzaSyArjDv3hS4_rw1YyNz-JFXDX1ufF72bqr8\",authDomain:\"chooseone-105a9.firebaseapp.com\",databaseURL:\"https://chooseone-default-rtdb.firebaseio.com\",projectId:\"chooseone\",storageBucket:\"chooseone.appspot.com\",messagingSenderId:\"722704825746\",appId:\"1:722704825746:web:73f11551b9e59f4bc2d54b\",measurementId:\"G-YJ97DZH6V5\"};var db='';if(!getApps().length){var firebaseApp=initializeApp(firebaseConfig);db=getFirestore(firebaseApp);}else{db=getFirestore();}export default function RightBar(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),questionPopular=_useState2[0],setQuestionPopular=_useState2[1];useEffect(function(){if(questionPopular.length!==0)return null;var q=query(collection(db,'questions'),orderBy('all_votes','desc'),limit(10));var promise=new Promise(function(resolve,reject){resolve(getDocs(q));});promise.then(function(qq){var ques=[];Promise.all(qq.docs.map(function(doc){ques.push(doc.data());return null;})).then(function(){setQuestionPopular(ques);});});},[questionPopular]);return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{style:styles.right_side,children:[/*#__PURE__*/_jsx(\"h4\",{style:styles.semiTitle,className:\"cali\",children:\"Popular Questions\"}),questionPopular.map(function(question,idx){return/*#__PURE__*/_jsxs(\"div\",{className:\"side_question\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title\",children:[idx===0&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:25},children:\"\\uD83E\\uDD47\"}),/*#__PURE__*/_jsx(\"a\",{className:\"link\",href:'/q/'+question.slug,children:/*#__PURE__*/_jsx(\"h6\",{style:{color:'rgb(223, 176, 0)'},children:/*#__PURE__*/_jsx(\"strong\",{children:question.title})})})]}),idx===1&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:25},children:\"\\uD83E\\uDD48\"}),/*#__PURE__*/_jsx(\"a\",{className:\"link\",href:'/q/'+question.slug,children:/*#__PURE__*/_jsx(\"h6\",{style:{color:'rgb(174, 179, 181)'},children:/*#__PURE__*/_jsx(\"strong\",{children:question.title})})})]}),idx===2&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:25},children:\"\\uD83E\\uDD49\"}),/*#__PURE__*/_jsx(\"a\",{className:\"link\",href:'/q/'+question.slug,children:/*#__PURE__*/_jsx(\"h6\",{style:{color:'rgba(184, 115, 51, 0.692)'},children:/*#__PURE__*/_jsx(\"strong\",{children:question.title})})})]}),idx!==0&&idx!==1&&idx!==2&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:styles.number,children:/*#__PURE__*/_jsx(\"p\",{children:idx+1})}),/*#__PURE__*/_jsx(\"a\",{className:\"link\",href:'/q/'+question.slug,children:/*#__PURE__*/_jsx(\"h6\",{children:question.title})})]})]}),/*#__PURE__*/_jsx(\"ul\",{children:question.choices.map(function(choice){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u25CB \",choice.choice_text]}),/*#__PURE__*/_jsx(\"br\",{})]});})})]});})]})});}var styles={// 右バー\nright_side:{width:221,backgroundColor:'white',filter:'drop-shadow(0px 0px 5px rgba(160, 160, 160, 0.7))',borderRadius:15,marginLeft:30,paddingTop:5,paddingBottom:15,height:'fit-content'},semiTitle:{paddingLeft:10},number:{width:16,height:16,borderRadius:8,backgroundColor:'rgb(2, 122, 255)',color:'white',fontSize:5,textAlign:'center',marginTop:7,marginRight:4,marginLeft:5}};","map":{"version":3,"sources":["/Users/horikazuto/ChooseOne/LatestChooseOne/src/components/RightBar.js"],"names":["React","useEffect","useState","Fragment","axios","getApps","initializeApp","getFirestore","collection","query","orderBy","limit","getDocs","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","db","length","firebaseApp","RightBar","props","questionPopular","setQuestionPopular","q","promise","Promise","resolve","reject","then","qq","ques","all","docs","map","doc","push","data","styles","right_side","semiTitle","question","idx","fontSize","slug","color","title","number","choices","choice","choice_text","width","backgroundColor","filter","borderRadius","marginLeft","paddingTop","paddingBottom","height","paddingLeft","textAlign","marginTop","marginRight"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, Fragment } from 'react';\nimport axios from \"axios\";\n\n// Firebase\nimport { getApps, initializeApp } from 'firebase/app';\nimport { getFirestore, collection, query, orderBy, limit, getDocs } from \"firebase/firestore\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyArjDv3hS4_rw1YyNz-JFXDX1ufF72bqr8\",\n  authDomain: \"chooseone-105a9.firebaseapp.com\",\n  databaseURL: \"https://chooseone-default-rtdb.firebaseio.com\",\n  projectId: \"chooseone\",\n  storageBucket: \"chooseone.appspot.com\",\n  messagingSenderId: \"722704825746\",\n  appId: \"1:722704825746:web:73f11551b9e59f4bc2d54b\",\n  measurementId: \"G-YJ97DZH6V5\"\n};\nvar db = '';\nif (!getApps().length){ \n  const firebaseApp = initializeApp(firebaseConfig);\n  db = getFirestore(firebaseApp);\n}else{\n  db = getFirestore();\n}\nexport default function RightBar (props) {\n\n  const [questionPopular, setQuestionPopular] = useState([]);\n\n  useEffect(() => {\n    if(questionPopular.length !== 0) return null;\n\n    const q = query(collection(db, 'questions'), orderBy('all_votes', 'desc'), limit(10));\n\n    const promise = new Promise(function(resolve, reject) {\n      resolve(getDocs(q));\n    });\n    promise.then((qq) => {\n      var ques = [];\n      Promise.all(qq.docs.map(doc => {\n        ques.push(doc.data());\n        return null;\n      })).then(() => {\n        setQuestionPopular(ques);\n      });\n    });\n  }, [questionPopular]);\n\n  return (\n    <Fragment>\n      {/* 右バー */}\n      <div style={styles.right_side}>\n        <h4 style={styles.semiTitle} className='cali'>Popular Questions</h4>\n        {questionPopular.map((question, idx) => (\n          <div className=\"side_question\">\n            <div className=\"title\">\n              {idx === 0 && (\n                <Fragment>\n                  <p style={{ fontSize: 25 }}>🥇</p> \n                  <a className=\"link\" href={'/q/' + question.slug}><h6 style={{color: 'rgb(223, 176, 0)'}}><strong>{question.title}</strong></h6></a>\n                </Fragment>\n              )}\n              {idx === 1 && (\n                <Fragment>\n                  <p style={{ fontSize: 25 }}>🥈</p>\n                  <a className=\"link\" href={'/q/' + question.slug}><h6 style={{color: 'rgb(174, 179, 181)'}}><strong>{question.title}</strong></h6></a>\n                </Fragment>\n              )}\n              {idx === 2 && (\n                <Fragment>\n                  <p style={{ fontSize: 25 }}>🥉</p>\n                  <a className=\"link\" href={'/q/' + question.slug}><h6 style={{color: 'rgba(184, 115, 51, 0.692)'}}><strong>{question.title}</strong></h6></a>\n                </Fragment>\n              )}\n              {idx !== 0 && idx !== 1 && idx !== 2 && (\n                <Fragment>\n                  <div style={styles.number}><p>{idx+1}</p></div>\n                  <a className=\"link\" href={'/q/' + question.slug}><h6>{question.title}</h6></a>\n                </Fragment>\n              )}\n            </div>\n            <ul>\n              {question.choices.map(choice => (\n                <div>\n                  <label>○ {choice.choice_text}</label>\n                  <br />\n                </div>\n              ))}\n            </ul>\n          </div>\n        ))}\n      </div>\n    </Fragment>\n  )\n}\n\nconst styles = {\n  // 右バー\n  right_side: {\n    width: 221,\n    backgroundColor: 'white',\n    filter: 'drop-shadow(0px 0px 5px rgba(160, 160, 160, 0.7))',\n    borderRadius: 15,\n    marginLeft: 30,\n    paddingTop: 5,\n    paddingBottom: 15,\n    height: 'fit-content',\n  },\n  semiTitle: {\n    paddingLeft: 10,\n  },\n  number: {\n    width: 16,\n    height: 16,\n    borderRadius: 8,\n    backgroundColor: 'rgb(2, 122, 255)',\n    color: 'white',\n    fontSize: 5,\n    textAlign: 'center',\n    marginTop: 7,\n    marginRight: 4,\n    marginLeft: 5,\n  }\n}"]},"metadata":{},"sourceType":"module"}